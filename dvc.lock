schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/CDClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: aee1a5ce04c4dc3d44fbc23bd8c76f9e
      size: 802
    - path: src/CDClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: faeae4be4d4c95d6cd6110e3c2a148af
      size: 968
    outs:
    - path: artifacts/data_ingestion/data/Chicken-fecal-images
      hash: md5
      md5: 9e1f8dd2eae3c29e9d635df89d438ae4.dir
      size: 12207807
      nfiles: 390
  prepare_base_model:
    cmd: python src/CDClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: aee1a5ce04c4dc3d44fbc23bd8c76f9e
      size: 802
    - path: src/CDClassifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: 54b34d78701886c6522063934069b835
      size: 1039
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: b0b6a4028829e58c1c7e9187e43bdfe7.dir
      size: 118059248
      nfiles: 2
  training:
    cmd: python src/CDClassifier/pipeline/stage_03_training.py
    deps:
    - path: artifacts/data_ingestion/data/Chicken-fecal-images
      hash: md5
      md5: 9e1f8dd2eae3c29e9d635df89d438ae4.dir
      size: 12207807
      nfiles: 390
    - path: artifacts/prepare_base_model
      hash: md5
      md5: b0b6a4028829e58c1c7e9187e43bdfe7.dir
      size: 118059248
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: aee1a5ce04c4dc3d44fbc23bd8c76f9e
      size: 802
    - path: src/CDClassifier/components/prepare_callbacks.py
      hash: md5
      md5: 04fcb9e48e5e57bfa0ef1d2498c76757
      size: 1038
    - path: src/CDClassifier/pipeline/stage_03_training.py
      hash: md5
      md5: 085c86cff709d0e368c96163c9cf30e2
      size: 1292
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 5
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 9f20211a5ec34ffeb15abaef8e3d579a
      size: 59340720
  evaluation:
    cmd: python src/CDClassifier/pipeline/stage_04_evaluation.py
    deps:
    - path: artifacts/data_ingestion/data/Chicken-fecal-images
      hash: md5
      md5: 9e1f8dd2eae3c29e9d635df89d438ae4.dir
      size: 12207807
      nfiles: 390
    - path: artifacts/training/model.h5
      hash: md5
      md5: 9f20211a5ec34ffeb15abaef8e3d579a
      size: 59340720
    - path: config/config.yaml
      hash: md5
      md5: aee1a5ce04c4dc3d44fbc23bd8c76f9e
      size: 802
    - path: src/CDClassifier/pipeline/stage_04_evaluation.py
      hash: md5
      md5: 126871fe09b8ae5c206645134ed4234f
      size: 902
    params:
      params.yaml:
        EPOCHS: 5
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: 562c6229015bbc3deb67cbdae5706f2f
      size: 73
